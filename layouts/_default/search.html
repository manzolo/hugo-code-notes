{{- define "main" }}
<link rel="stylesheet" href="{{ "css/search.css" | relURL }}">
<div class="search-page">
  <header class="search-header">
    <h1 class="search-title">
      {{- .Title -}}
      <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
    </h1>
    {{- if .Description }}
    <p class="search-description">{{ .Description }}</p>
    {{- end }}
  </header>

  <div class="search-container">
    <div class="search-box">
      <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <input id="searchInput" 
             type="search" 
             placeholder="{{ .Params.placeholder | default "Search posts, categories, tags..." }}"
             aria-label="search" 
             autocomplete="off" 
             autofocus>
    </div>

    <div class="search-stats" id="searchStats" style="display: none;">
      <span id="resultsCount">0 results</span>
    </div>

    <div class="quick-tags" id="quickTags">
      <h3>Quick Search</h3>
      <div class="tags-grid">
        <button class="tag-btn" data-query="docker">Docker</button>
        <button class="tag-btn" data-query="bash">Bash</button>
        <button class="tag-btn" data-query="linux">Linux</button>
        <button class="tag-btn" data-query="javascript">JavaScript</button>
        <button class="tag-btn" data-query="git">Git</button>
        <button class="tag-btn" data-query="tutorial">Tutorials</button>
        <button class="tag-btn" data-query="category:">Categories</button>
        <button class="tag-btn" data-query="tag:">Tags</button>
      </div>
    </div>

    <ul id="searchResults" class="search-results" aria-label="search results" style="display: none;"></ul>
    
    <div class="no-results" id="noResults" style="display: none;">
      <h3>No results found</h3>
      <p>Try different keywords or browse our categories and tags above.</p>
    </div>
  </div>
</div>

<script src="/js/search.js"></script>
{{- end }}