{{- define "main" }}
<link rel="stylesheet" href="{{ "css/search.css" | relURL }}">
<div class="search-page">
  <header class="search-header">
    <h1 class="search-title">
      <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      {{- .Title -}}
    </h1>
    {{- if .Description }}
    <p class="search-description">{{ .Description }}</p>
    {{- end }}
  </header>

  <div class="search-container">
    <!-- Search Input -->
    <div class="search-input-wrapper">
      <div class="search-box">
        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
        <input id="searchInput"
               type="search"
               placeholder="{{ .Params.placeholder | default "Type to search posts, categories, tags..." }}"
               aria-label="search"
               autocomplete="off"
               autofocus>
        <button id="clearSearch" class="clear-btn" style="display: none;" aria-label="Clear search">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="15" y1="9" x2="9" y2="15"></line>
            <line x1="9" y1="9" x2="15" y2="15"></line>
          </svg>
        </button>
      </div>
      <div class="search-stats" id="searchStats" style="display: none;">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
        </svg>
        <span id="resultsCount">0 results</span>
      </div>
    </div>

    <!-- Quick Access Tags -->
    <div class="quick-tags" id="quickTags">
      <h3 class="quick-tags-title">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="1"></circle>
          <circle cx="12" cy="5" r="1"></circle>
          <circle cx="12" cy="19" r="1"></circle>
        </svg>
        Quick Search Topics
      </h3>
      <div class="tags-grid">
        <button class="tag-btn" data-query="docker">
          <span class="tag-icon">ğŸ³</span> Docker
        </button>
        <button class="tag-btn" data-query="linux">
          <span class="tag-icon">ğŸ§</span> Linux
        </button>
        <button class="tag-btn" data-query="bash">
          <span class="tag-icon">ğŸ’»</span> Bash
        </button>
        <button class="tag-btn" data-query="git">
          <span class="tag-icon">ğŸ”€</span> Git
        </button>
        <button class="tag-btn" data-query="storage">
          <span class="tag-icon">ğŸ’¾</span> Storage
        </button>
        <button class="tag-btn" data-query="networking">
          <span class="tag-icon">ğŸŒ</span> Network
        </button>
      </div>
    </div>

    <!-- Search Results -->
    <ul id="searchResults" class="search-results" aria-label="search results" style="display: none;"></ul>

    <!-- No Results Message -->
    <div class="no-results" id="noResults" style="display: none;">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <h3>No Results Found</h3>
      <p>We couldn't find anything matching your search.</p>
      <p class="no-results-hint">Try using different keywords or browse the quick topics above.</p>
    </div>
  </div>
</div>

<script src="/js/search.js"></script>
{{- end }}